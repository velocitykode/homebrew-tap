# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Velocity < Formula
  desc "Installer for the Velocity Go web framework"
  homepage "https://github.com/velocitykode/velocity-installer"
  version "0.5.2"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/velocitykode/velocity-installer/releases/download/v0.5.2/velocity-darwin-amd64.tar.gz"
      sha256 "c884041862a796e10ae3a2e04e27c08efa39f47a19489472398775cdee6cde2b"

      def install
        if Hardware::CPU.arm?
          bin.install "velocity-darwin-arm64" => "velocity"
        else
          bin.install "velocity-darwin-amd64" => "velocity"
        end
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/velocitykode/velocity-installer/releases/download/v0.5.2/velocity-darwin-arm64.tar.gz"
      sha256 "ee06a595db746d01f7a0157acc4926f284a165b85004421a63a9a85a33a062f0"

      def install
        if Hardware::CPU.arm?
          bin.install "velocity-darwin-arm64" => "velocity"
        else
          bin.install "velocity-darwin-amd64" => "velocity"
        end
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/velocitykode/velocity-installer/releases/download/v0.5.2/velocity-linux-amd64.tar.gz"
      sha256 "53e16d86444bd3ee9acb1d6ee166d685ebd0c0706d4cd5c4f448c7073b2cea8b"
      def install
        if Hardware::CPU.arm?
          bin.install "velocity-darwin-arm64" => "velocity"
        else
          bin.install "velocity-darwin-amd64" => "velocity"
        end
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/velocitykode/velocity-installer/releases/download/v0.5.2/velocity-linux-arm64.tar.gz"
      sha256 "0bc1abeb517ba27555832da06ab0838d9414c54afb9f9570568a4458268ce462"
      def install
        if Hardware::CPU.arm?
          bin.install "velocity-darwin-arm64" => "velocity"
        else
          bin.install "velocity-darwin-amd64" => "velocity"
        end
      end
    end
  end

  test do
    assert_match "velocity version", shell_output("#{bin}/velocity --version")
  end
end
